source("frequentist_functions.R")
# Get data and definitions
temp <- preparation_infections()
county_wk_dt <- temp$county_wk_dt
my_var <- temp$my_var
my_sym <- temp$my_sym
lockd_vars <- temp$lockd_vars
season_vars <- temp$season_vars
mobile_vars <- temp$mobile_vars
temp <- NULL
## Define needed length
lag_length <- 1
## Define column names
lag_names <- paste0(my_var, "_lag", 1:lag_length)
# Add lagged data to regional data
for (i in 1:lag_length){
county_wk_dt <- county_wk_dt %>%
group_by(County) %>%
mutate(
!!sym(lag_names[i]) := dplyr::lag(!!my_sym, n=i)
) %>%
