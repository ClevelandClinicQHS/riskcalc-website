choices = c("Home", "About"),
values = c("Home", "About")
) %>% margin(right = "auto")
# dropdown(id='language',
#   label = "Language",
#   buttonInput("en", "English"),
#   buttonInput("cn", "Chinese")
# ) %>% margin(right = c(sm = 1)) %>% background("teal"),
# tags$script(HTML('
# document.getElementById("language").getElementsByTagName("button")[0].classList.remove("btn-grey");
# '))
) %>% affix("sticky") %>% background("teal")
),
div(
navContent(
navPane(id = "Home",
div(id = "homeHeader",
column(
h1("Sample Size Calculator") %>% margin(top=5),
h3(
"Sample Size Estimation for Clinical Study Designs: from Randomized Controlled Trials to Observational Studies"
) %>% margin(bottom=5)
)) %>% font(align="center", color="white") %>% padding(top=4, bottom=4),
columns(
column(
width = c(sm=4),
card(id="clinicalDesign",
h2("Select your clinical study design") %>% font(align="center") %>% margin(top=3, bottom=4),
radiobarInput(
id = "radiobar1",
choices = list(
h5("Randomized Controalled Trial") %>% padding(top=2),
h5("Observational Study") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(left=3, right=3, top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint1')
) %>% font(align="center") %>% margin(left=3, right=3, top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey'),
collapsePane(
id="RCT",
column(
radiobarInput(
id = "radiobar2",
choices = list(
h5("Non-inferiority design") %>% padding(top=2),
h5("Equivalence design") %>% padding(top=2),
h5("Superiority design") %>% padding(top=2)
),
values = c(1,2,3),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint2')
) %>% font(align="center") %>% margin(top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey')
)
) %>% margin(top=3, bottom=3),
collapsePane(
id="OS",
column(
radiobarInput(
id = "radiobar3",
choices = list(
h5("Case-Control") %>% padding(top=2),
h5("Cohort") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint3')
) %>% font(align="center") %>% margin(top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey'),
collapsePane(
id="caseControl",
column(
radiobarInput(
id = "caseControlMatch",
choices = list(
h5("Matched") %>% padding(top=2),
h5("Unmatched") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal")
) %>% padding(all=0) %>% margin(all=0)
),
collapsePane(
id="observationalStudy",
column(
radiobarInput(
id = "observationalStudyCohort",
choices = list(
h5("Independent") %>% padding(top=2),
h5("Paired") %>% padding(top=2),
h5("Case-cohort") %>% padding(top=2)
),
values = c(1,2,3),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal")
) %>% padding(all=0) %>% margin(all=0)
)
)
) %>% margin(top=3, bottom=3)
) %>% background("grey") %>% padding(left=0, right=0),
column(
width = c(sm=8),
card(id="calculator",
h2("Calculate your sample size") %>% font(align="center") %>% margin(top=4, bottom=4),
formRow(
formGroup(
width = c(md = 4),  # <-
label = p("Type I error rate, \\(\\alpha\\)", linkInput(id='1',label=icon("info-circle") , tooltip=tooltip("probability of detecting a false effect"))),
numberInput(
id = "alpha", value=0.05, min=0, max=1, step=0.01
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Power, \\(1-\\beta\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("probability of detecting a real effect"))),
numberInput(
id = "beta", value=0.80, min=0, max=1, step=0.01
)
) %>% padding(left=4, right=4)
),
collapsePane(id='pane211',
formRow(
formGroup(
width = c(md = 4),  # <-
label = "Proportion for cases, \\(P_{0}\\)",
numberInput(
id = "p0_211", value=0.5, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = "Odds ratio",
numberInput(
id = "or_211", value=2, min=0, step=0.1
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Correlation coefficient"),
numberInput(
id = "cc_211", value=1, min=0, step=0.1
)
) %>% padding(left=4, right=4)
),
formRow(
formGroup(
width = c(md = 4),  # <-
label = p("Ratio of case to control, \\(r\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("1 case to r control"))),
numberInput(
id = "r_211", value=1, min=1, step=1
)
) %>% padding(left=4, right=4))),
collapsePane(id='pane212',
formRow(
formGroup(
width = c(md = 4),  # <-
label = "Proportion for cases, \\(P_{0}\\)",
numberInput(
id = "p0_212", value=0.5, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = "Proportion for controls, \\(P_{1}\\)",
numberInput(
id = "p1_212", value=0.4, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Ratio of case to control, \\(r\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("1 case to r control"))),
numberInput(
id = "r_212", value=1, min=1, step=1
)
) %>% padding(left=4, right=4)
)),
columns(
column(width = c(md=4)),
column(width = c(md=4),
buttonInput(
id = "run",
label = "Calculate"
) %>% width("full") %>% background("teal") %>% font(size='xl', weight='bold')),
column(width = c(md=4))
) %>% margin(top=3, bottom=3)
) %>% margin(bottom = 5),
collapsePane(
id='output',
tableOutput("output_kable")
)  %>% padding(all=0) %>% margin(all=0)
)
)
)
),
navPane(id = "About")
)
)
)
runApp()
div(
withMathJax(),
useShinyjs(),
tags$head(
HTML("<title>Sample Size Calculator</title>"),
tags$script(HTML('
function myFunction() {
var x = document.getElementById("alpha").getElementsByTagName("input")[0];
if(x.value.length<4) x.value = x.value.concat("0".repeat(4-x.value.length));
var x = document.getElementById("beta").getElementsByTagName("input")[0];
if(x.value.length<4) x.value = x.value.concat("0".repeat(4-x.value.length));
};
var button = document.getElementById("run");
button.addEventListener("click", function(){
var p0 = document.getElementById("p0").getElementsByTagName("input")[0];
if (p0.value == "0" || p0.value == "1")
p0.setCustomValidity("Proportion must be greater than 0 and less 1");
else
p0.setCustomValidity("");
var p1 = document.getElementById("p0").getElementsByTagName("input")[0];
})
')),
tags$style(HTML('
.collapsing {
-webkit-transition: none;
transition: none;
display: none;
}
.card {
border-style: none;
}
.dropdown-menu {
display: none;
position: absolute;
background-color: #f9f9f9;
min-width: 120px;
width: 2%;
box-shadow: 0px;
padding: 2px 2px;
z-index: 1;
}
#language btn {
border: none;
box-shadow: none;
}
#homeHeader {
background: url("maxresdefault5.jpg") center center no-repeat;
-webkit-background-size: cover;
-moz-background-size: cover;
}
#hint {
background-color: #EEF5DB;
border-width: thin;
}
#radiobar1 label.btn {
width: 50%;
}
#radiobar2 label.btn {
width: 33.3%;
}
#radiobar3 label.btn {
width: 50%;
}
#caseControlMatch label.btn {
width: 50%;
}
#observationalStudyCohort label.btn {
width: 33.3%;
}
.tooltip-inner {
background-color: #008280;
color: #fff;
}
.bs-tooltip-top .arrow::before, .bs-tooltip-auto[x-placement^="top"] .arrow::before {
border-top-color: #008280;
}
'))
),
div(
id='nav',
navbar(
brand = "Sample Size Calculator",
id = "navbar",
collapse = "sm",
navInput(
id = "tabs",
choices = c("Home", "About"),
values = c("Home", "About")
) %>% margin(right = "auto")
# dropdown(id='language',
#   label = "Language",
#   buttonInput("en", "English"),
#   buttonInput("cn", "Chinese")
# ) %>% margin(right = c(sm = 1)) %>% background("teal"),
# tags$script(HTML('
# document.getElementById("language").getElementsByTagName("button")[0].classList.remove("btn-grey");
# '))
) %>% affix("sticky") %>% background("teal")
),
div(
navContent(
navPane(id = "Home",
div(id = "homeHeader",
column(
h1("Sample Size Calculator") %>% margin(top=5),
h3(
"Sample Size Estimation for Clinical Study Designs: from Randomized Controlled Trials to Observational Studies"
) %>% margin(bottom=5)
)) %>% font(align="center", color="white") %>% padding(top=4, bottom=4),
columns(
column(
width = c(md=4),
card(id="clinicalDesign",
h2("Select your clinical study design") %>% font(align="center") %>% margin(top=3, bottom=4),
radiobarInput(
id = "radiobar1",
choices = list(
h5("Randomized Controalled Trial") %>% padding(top=2),
h5("Observational Study") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(left=3, right=3, top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint1')
) %>% font(align="center") %>% margin(left=3, right=3, top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey'),
collapsePane(
id="RCT",
column(
radiobarInput(
id = "radiobar2",
choices = list(
h5("Non-inferiority design") %>% padding(top=2),
h5("Equivalence design") %>% padding(top=2),
h5("Superiority design") %>% padding(top=2)
),
values = c(1,2,3),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint2')
) %>% font(align="center") %>% margin(top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey')
)
) %>% margin(top=3, bottom=3),
collapsePane(
id="OS",
column(
radiobarInput(
id = "radiobar3",
choices = list(
h5("Case-Control") %>% padding(top=2),
h5("Cohort") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal"),
blockquote(id="hint",
p(id='hint3')
) %>% font(align="center") %>% margin(top=0, bottom=1) %>% padding(all=2) %>% font(size='base') %>% border('grey'),
collapsePane(
id="caseControl",
column(
radiobarInput(
id = "caseControlMatch",
choices = list(
h5("Matched") %>% padding(top=2),
h5("Unmatched") %>% padding(top=2)
),
values = c(1,2),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal")
) %>% padding(all=0) %>% margin(all=0)
),
collapsePane(
id="observationalStudy",
column(
radiobarInput(
id = "observationalStudyCohort",
choices = list(
h5("Independent") %>% padding(top=2),
h5("Paired") %>% padding(top=2),
h5("Case-cohort") %>% padding(top=2)
),
values = c(1,2,3),
selected = 1
) %>% background("grey") %>% active("teal") %>% margin(top=3, bottom=0) %>% border("teal")
) %>% padding(all=0) %>% margin(all=0)
)
)
) %>% margin(top=3, bottom=3)
) %>% background("grey") %>% padding(left=0, right=0)
),
column(
width = c(md=8),
card(id="calculator",
h2("Calculate your sample size") %>% font(align="center") %>% margin(top=4, bottom=4),
formRow(
formGroup(
width = c(md = 4),  # <-
label = p("Type I error rate, \\(\\alpha\\)", linkInput(id='1',label=icon("info-circle") , tooltip=tooltip("probability of detecting a false effect"))),
numberInput(
id = "alpha", value=0.05, min=0, max=1, step=0.01
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Power, \\(1-\\beta\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("probability of detecting a real effect"))),
numberInput(
id = "beta", value=0.80, min=0, max=1, step=0.01
)
) %>% padding(left=4, right=4)
),
collapsePane(id='pane211',
formRow(
formGroup(
width = c(md = 4),  # <-
label = "Proportion for cases, \\(P_{0}\\)",
numberInput(
id = "p0_211", value=0.5, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = "Odds ratio",
numberInput(
id = "or_211", value=2, min=0, step=0.1
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Correlation coefficient"),
numberInput(
id = "cc_211", value=1, min=0, step=0.1
)
) %>% padding(left=4, right=4)
),
formRow(
formGroup(
width = c(md = 4),  # <-
label = p("Ratio of case to control, \\(r\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("1 case to r control"))),
numberInput(
id = "r_211", value=1, min=1, step=1
)
) %>% padding(left=4, right=4))),
collapsePane(id='pane212',
formRow(
formGroup(
width = c(md = 4),  # <-
label = "Proportion for cases, \\(P_{0}\\)",
numberInput(
id = "p0_212", value=0.5, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = "Proportion for controls, \\(P_{1}\\)",
numberInput(
id = "p1_212", value=0.4, min=0, max=1, step=0.05
)
) %>% padding(left=4, right=4),
formGroup(
width = c(md = 4),  # <-
label = p("Ratio of case to control, \\(r\\)", linkInput(id='2', label=icon("info-circle"), tooltip=tooltip("1 case to r control"))),
numberInput(
id = "r_212", value=1, min=1, step=1
)
) %>% padding(left=4, right=4)
)),
columns(
column(width = c(md=4)),
column(width = c(md=4),
buttonInput(
id = "run",
label = "Calculate"
) %>% width("full") %>% background("teal") %>% font(size='xl', weight='bold')),
column(width = c(md=4))
) %>% margin(top=3, bottom=3)
) %>% margin(bottom = 5),
collapsePane(
id='output',
tableOutput("output_kable")
)  %>% padding(all=0) %>% margin(all=0)
)
)
),
navPane(id = "About")
)
)
)
runApp()
runApp()
runApp()
runApp()
devtools::install_github("ijlyttle/bsplus")
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runExample("08_html")
runApp()
runApp()
