predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
input_vec = sample(c(0,1), 500, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
library(Hmisc)
random_predictions = function(input_vec, input_min=0, input_max=1) {
n = length(input_vec)
sum_pos = sum(input_vec == 1)
sum_neg = sum(input_vec == 0)
if ((sum_pos*sum_neg)%%2==0) {
pred = seq(1, n)
} else {
pred = c(seq(1, floor(n/2)), seq(floor(n/2), n-1))
}
i = 1
limit = 1000000
while(i<limit) {
pred_new = sample(pred, n)
r = rcorr.cens(input_vec, pred_new)
if (r[1] == 0.5) break
i = i + 1
if (i == limit) {
print("Cannot find a solution")
return()
}
}
print(i)
pred_new = input_min + pred_new / n * (input_max - input_min)
return(pred_new)
}
input_vec = sample(c(0,1), 500, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
library(Hmisc)
random_predictions = function(input_vec, input_min=0, input_max=1) {
n = length(input_vec)
sum_pos = sum(input_vec == 1)
sum_neg = sum(input_vec == 0)
if ((sum_pos*sum_neg)%%2==0) {
pred = seq(1, n)
} else {
pred = c(seq(1, floor(n/2)), seq(floor(n/2), n-1))
}
i = 1
limit = 1000000
while(i<limit) {
pred_new = sample(pred, n)
r = rcorr.cens(input_vec, pred_new)
if (r[1] == 0.5) break
i = i + 1
if (i == limit) {
print("Cannot find a solution")
return()
}
}
print(i)
pred_new = input_min + pred_new / n * (input_max - input_min)
return(pred_new)
}
input_vec = sample(c(0,1), 500, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
library(Hmisc)
random_predictions = function(input_vec, input_min=0, input_max=1) {
n = length(input_vec)
sum_pos = sum(input_vec == 1)
sum_neg = sum(input_vec == 0)
if ((sum_pos*sum_neg)%%2==0) {
pred = seq(1, n)
} else {
pred = c(seq(1, floor(n/2)), seq(floor(n/2), n-1))
}
i = 1
limit = 1000000
while(i<limit) {
pred_new = sample(pred, n)
r = rcorr.cens(input_vec, pred_new)
if (r[1] == 0.5) break
i = i + 1
if (i == limit) {
print("Cannot find a solution")
return()
}
}
print(i)
pred_new = input_min + pred_new / n * (input_max - input_min)
return(pred_new)
}
input_vec = sample(c(0,1), 500, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
table(input_vec)
input_vec = sample(c(0,1), 500, replace = T, prob = c(0.7, 0.3))
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
input_vec = sample(c(0,1), 500, replace = T, prob = c(0.7, 0.3))
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
table(input_vec)
library(Hmisc)
random_predictions = function(input_vec, input_min=0, input_max=1) {
n = length(input_vec)
sum_pos = sum(input_vec == 1)
sum_neg = sum(input_vec == 0)
if ((sum_pos*sum_neg)%%2==0) {
pred = seq(1, n)
} else {
pred = c(seq(1, floor(n/2)), seq(floor(n/2), n-1))
}
i = 1
limit = 1000000
while(i<limit) {
pred_new = sample(pred, n)
r = rcorr.cens(input_vec, pred_new)
if (r[1] == 0.5) break
i = i + 1
if (i == limit) {
print("Cannot find a solution")
return()
}
}
pred_new = input_min + pred_new / n * (input_max - input_min)
return(pred_new)
}
input_vec = sample(c(0,1), 200, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
library(Hmisc)
random_predictions = function(input_vec, input_min=0, input_max=1) {
n = length(input_vec)
sum_pos = sum(input_vec == 1)
sum_neg = sum(input_vec == 0)
if ((sum_pos*sum_neg)%%2==0) {
pred = seq(1, n)
} else {
pred = c(seq(1, floor(n/2)), seq(floor(n/2), n-1))
}
i = 1
limit = 1000000
while(i<limit) {
pred_new = sample(pred, n)
r = rcorr.cens(input_vec, pred_new)
if (r[1] == 0.5) break
i = i + 1
if (i == limit) {
print("Cannot find a solution")
return()
}
}
pred_new = input_min + pred_new / n * (input_max - input_min)
return(pred_new)
}
# example
input_vec = sample(c(0,1), 100, replace = T)
predictions = random_predictions(input_vec)
rcorr.cens(input_vec, predictions)
describe(predictions)
library(pROC)
?power.roc.test
?cov
###  Full AUC
roc1 <- roc(aSAH$outcome, aSAH$ndka)
roc2 <- roc(aSAH$outcome, aSAH$wfns)
## Sample size
# With DeLong variance (default)
power.roc.test(roc1, roc2, power=0.9)
# With Obuchowski variance
power.roc.test(roc1, roc2, power=0.9, method="obuchowski")
roc1
runApp('C:/Users/JXG/OneDrive/shiny_library/UR_CHOICE')
runApp('C:/Users/JXG/OneDrive/shiny_library/UR_CHOICE')
runApp('C:/Users/JXG/OneDrive/shiny_library/UR_CHOICE')
runApp('C:/Users/JXG/OneDrive/shiny_library/UR_CHOICE')
runApp('C:/Users/JXG/OneDrive/shiny_library/PRECISE_Models')
2……11
2^11
library(httr)
GET("https://geocoding.geo.census.gov/geocoder/locations/address?street=4600+Silver+Hill+Rd&city = Washington&state=DC&zip=20233&benchmark=Public_AR_Census2020&format=json")
GET("https://geocoding.geo.census.gov/geocoder/locations/address?street=4600+Silver+Hill+Rd&city = Washington&state=DC&zip=20233&benchmark=Public_AR_Census2020&format=json")
GET(""https://geocoding.geo.census.gov/geocoder/geographies/address?street=25801+Country+Club+Blvd&zip=44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10"")
GET("https://geocoding.geo.census.gov/geocoder/geographies/address?street=25801+Country+Club+Blvd&zip=44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10")
res = GET("https://geocoding.geo.census.gov/geocoder/geographies/address?street=25801+Country+Club+Blvd&zip=44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10")
res$status_code
res$content
res$fields
http_type(res)
library(jsonlite)
jsonlite::fromJSON(res$content)
jsonlite::fromJSON(content(res, "text"), simplifyVector = F)
jsonlite::fromJSON(content(res, "text"), simplifyVector = T)
resjson = jsonlite::fromJSON(content(res, "text"), simplifyVector = T)
resjson$result$addressMatches
resjson$result$addressMatches$matchedAddress
resjson = jsonlite::fromJSON(content(res, "text"), simplifyVector = F)
resjson$result$addressMatches
resjson$result$addressMatches【【1
resjson$result$addressMatches[[1]]
resjson$result$addressMatches[[1]]$matchedAddress
resjson$result$addressMatches[[1]]$geographies
resjson$result$addressMatches[[1]]$geographies$`Census Block Groups`[[1]]
resjson$result$addressMatches[[1]]$geographies$`Census Block Groups`[[1]]$GEOID
resjson$result$addressMatches[[1]]$coordinates
nchar(resjson$result$addressMatches[[1]]$geographies$`Census Block Groups`[[1]]$GEOID)
shiny::runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
shiny::runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
runApp('C:/Users/JXG/OneDrive/PASS')
library(httr)
library(jsonlite)
GET("https://geocoding.geo.census.gov/geocoder/geographies/address?street=25801+Country+Club+Blvd&zip=44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10")
query = list(address = "11800 Edgewater Dr, Lakewood, OH 44070", benchmark = "Public_AR_Current", format = "json", vintage = "Current_Current", layers = "10")
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress", query)
resp$status_code
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress?", query)
resp$status_code
res = GET("https://geocoding.geo.census.gov/geocoder/geographies/address?street=25801+Country+Club+Blvd&zip=44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10")
res$status_code
query = list(address = "25801 Country Club Blvd, North Olmsted, OH 44070", benchmark = "Public_AR_Current", format = "json", vintage = "Current_Current", layers = "10")
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress?", query)
resp$status_code
resp$url
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress", query)
resp$status_code
resp$all_headers
resp$headers
resp$request$url
resp$request$fields
res = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress?address=25801+Country+Club+Blvd+44070&benchmark=Public_AR_Current&format=json&vintage=Current_Current&layers=10")
res$status_code
resp
res
params = list(address = "25801 Country Club Blvd, North Olmsted, OH 44070", benchmark = "Public_AR_Current", format = "json", vintage = "Current_Current", layers = "10")
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress", query = params)
resp$url
resp$status_code
json_content <- fromJSON(content(resp, as = "text"))
json_content$result$addressMatches
dim(json_content$result$addressMatches)
nrow(json_content$result$addressMatches)
params = list(address = "11800 Edgewater Dr, 44107", benchmark = "Public_AR_Current", format = "json", vintage = "Current_Current", layers = "10")
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress", query = params)
resp$status_code
fromJSON(content(resp, as = "text"))
json_content = fromJSON(content(resp, as = "text"))
length(json_content$result$addressMatches)
params = list(address = "25801 Country Club Blvd, North Olmsted, OH 44070", benchmark = "Public_AR_Current", format = "json", vintage = "Current_Current", layers = "10")
resp = GET("https://geocoding.geo.census.gov/geocoder/geographies/onelineaddress", query = params)
json_content$result$addressMatches
json_content = fromJSON(content(resp, as = "text"))
nrow(json_content$result$addressMatches)
length(json_content$result$addressMatches)
library(readr)
X_Map_ADI_2015 <- read_csv("C:/Users/JXG/Downloads/_Map_ADI_2015.csv")
View(X_Map_ADI_2015)
X_Map_ADI_2015 = X_Map_ADI_2015 %>% mutate(year = 2015)
library(readr)
X_Map_ADI_2020 <- read_csv("C:/Users/JXG/Downloads/_Map_ADI_2020.csv")
View(X_Map_ADI_2020)
X_Map_ADI_2020 = X_Map_ADI_2020 %>% mutate(year = 2020)
adi = rbind(X_Map_ADI_2015, X_Map_ADI_2020)
adi  = adi %>% arrange(gisjoin_id, year) %>% distinct(fips_code, .keep_all = T)
adi = rbind(X_Map_ADI_2015, X_Map_ADI_2020)
adi  = adi %>% arrange(gisjoin_id, year) %>% distinct(gisjoin_id, .keep_all = T)
adi %>% group_by(fips_code) %>% filter(n()>1)
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code)
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% View()
10000100401002
adi$fips_code = as.character(adi$fips_code)
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% View()
adi = rbind(X_Map_ADI_2015, X_Map_ADI_2020)
adi$fips_code[1]
str(adi$fips_code)
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% pull(fips_code)[1]
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% select(fips_code)
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% select(fips_code) [1]
adi %>% group_by(fips_code) %>% filter(n()>1) %>% arrange(fips_code) %>% select(fips_code) %>% [1]
View(X_Map_ADI_2020)
library(readr)
X_Map_ADI_2020 <- read_csv("C:/Users/JXG/Downloads/_Map_ADI_2020.csv",
col_types = cols(fips_code = col_character()))
View(X_Map_ADI_2020)
X_Map_ADI_2020 = X_Map_ADI_2020 %>% mutate(year = 2020)
adi = rbind(X_Map_ADI_2015, X_Map_ADI_2020)
adi  = adi %>% arrange(gisjoin_id, year) %>% distinct(gisjoin_id, .keep_all = T)
adi %>% group_by(fips_code) %>% filter(n()>1)
adi %>% mutate(n = nchar(fips_code)) %>% distinct(n)
write_csv(adi, file = "adi.csv")
?read.csv
View(adi)
setwd("C:\Users\JXG\OneDrive\PASS")
setwd("C://Users//JXG//OneDrive//PASS")
read.csv("adi.csv", colClasses = c("character", "character", "numeric", "numeric", "numeric"))
read.csv("adi.csv", colClasses = c("character", "character", "numeric", "numeric", "numeric"), header = T)
read.csv("adi.csv", colClasses = c("character", "character", "integer", "integer", "integer"), header = T)
json_content$result$input$address
json_content$result$input$vintage
json_content$result$input$benchmark
json_content$result$addressMatches
json_content$result$addressMatches$coordinates
json_content$result$addressMatches$geographies
json_content$result$addressMatches$tigerLine
json_content$result$addressMatches$addressComponents
json_content$result$addressMatches$geographies[1]
json_content$result$addressMatches$geographies[,1]
json_content$result$addressMatches$geographies[[1]
]
json_content$result$addressMatches$geographies[[1]$GEOID
json_content$result$addressMatches$geographies[[1]
]
json_content$result$addressMatches$geographies[[1]]$GEOID
json_content$result$addressMatches$geographies[[1]]
json_content$result$addressMatches$geographies
str(json_content$result$addressMatches$geographies)
json_content$result$addressMatches$geographies$`Census Block Groups`$GEOID
json_content$result$addressMatches$geographies$`Census Block Groups`
json_content$result$addressMatches$geographies$`Census Block Groups`[[1]]
json_content$result$addressMatches$geographies$`Census Block Groups`[[1]]$GEOID
names(adi)
substr("390351742052", 1, 11)
adi[adi$fips_code==geoid, "adi_natrank"]
adi[adi$fips_code=="390351742052", "adi_natrank"]
adi[adi$fips_code=="390351742052",]$adi_natrank[1]
adi <- read_csv("adi.csv")
str(adi$adi_natrank)
Hmisc::describe(adi$adi_natrank)
adi = adi %>%
mutate(adi_natrank = as.numeric(adi_natrank)) %>%
filter(!is.na(adi_natrank))
?pull
geoid = substr(geoid, 1, 11)
geoid = substr("390351742052 ", 1, 11)
adi_natrank = adi %>% mutate(fips = substr(fips_code, 1, 11)) %>% filter(fips == geoid) %>% summarise(adi_natrank = mean(adi_natrank)) %>% pull(adi_natrank)
adi %>% filter(fips_code == geoid)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
fluidPage(
shinyjs::useShinyjs(),
theme = shinytheme("flatly"),
#tags$head(tags$link(rel="shortcut icon", href="../assets/icons/favicon.ico", type="image/x-icon")),
#tags$head(tags$link(rel="apple-touch-icon", href="../assets/icons/apple-touch-icon.png", type="image/x-icon")),
tags$script(HTML(
'function myFunction() {
var txt;
if (confirm("This is a mailbox for reporting website errors to programmers for the risk calculator website.  If you have questions or concerns about a specific calculator, please use the calculator Author Contact Information found on the publication for that calculator.  Each calculator is documented by a specific publication with a corresponding author.")) {
window.open("mailto:rcalcsupport@ccf.org");
}
}'
)),
titlePanel('Predict change in function score, pain score, and probability of PASS'),
column(4,
wellPanel(
h4(tags$b("Clinical")),
numericInput('baseline_pain', 'Pain Score', value = 50, min = 0, max = 100),
bsPopover(id = "baseline_pain",title= "Baseline Pain Score", content = "Baseline pain score: 0-100", placement = "right", trigger = "hover", options = list(container = "body")),
numericInput('baseline_func', 'Function Score', value = 50, min = 0, max = 100),
bsPopover(id = "baseline_func",title= "Baseline Function Score", content = "Baseline function score: 0-100", placement = "right", trigger = "hover", options = list(container = "body")),
numericInput('baseline_mcs', 'MCS Score', value = 50, min = 0, max = 100),
bsPopover(id = "baseline_mcs",title= "Baseline MCS Score", content = "Baseline MCS score: 0-100", placement = "right", trigger = "hover", options = list(container = "body")),
radioGroupButtons(inputId = "metric",label = "Height and weight", choices = c("English", "Metric"),status = "info"),
conditionalPanel(
condition = "input.metric == 'English'",
numericInput('height_inch', 'Height (inch)', value = 68, min = 40, max = 96),
bsPopover(id = "height_inch",title= "Height (inch)", content = "Height in inches: 40-96", placement = "right", trigger = "hover", options = list(container = "body")),
numericInput('weight_pound', 'Weight (pound)', value = 150, min = 60, max = 500),
bsPopover(id = "weight_pound",title= "Weight (pound)", content = "Weight in pounds: 60-500", placement = "right", trigger = "hover", options = list(container = "body"))
),
conditionalPanel(
condition = "input.metric == 'Metric'",
numericInput('height_cm', 'Height (cm)', value = 170, min = 80, max = 240),
bsPopover(id = "height_cm",title= "Height (cm)", content = "Height in cms: 80-240", placement = "right", trigger = "hover", options = list(container = "body")),
numericInput('weight_kg', 'Weight (kg)', value = 80, min = 30, max = 250),
bsPopover(id = "weight_kg",title= "Weight (kg)", content = "Weight in kgs: 30-250", placement = "right", trigger = "hover", options = list(container = "body"))
),
numericInput('educ_yrs', 'Education (years)', value = 12, min = 1, max = 24),
bsPopover(id = "educ_yrs",title= "Education (years)", content = "Education in years: 1-24", placement = "right", trigger = "hover", options = list(container = "body")),
selectInput("insurancetype2", "Insurance type", selectize = F, choices = c("Medicare/Private", "Medicaid/Uninsured")),
selectInput("gender", "Gender", selectize = F, choices = c("Female", "Male")),
br(),
# HTML('<p>For National ADI, please visit <a href="https://www.neighborhoodatlas.medicine.wisc.edu/mapping" target="_blank">here</a> to search for your address and find the value of national percentile</p>'),
# numericInput('ADI_national', 'National ADI', value = 80, min = 1, max = 100),
# bsPopover(id = "ADI_national",title= "National ADI", content = "National ADI: 1-100", placement = "right", trigger = "hover", options = list(container = "body"))
textInput(inputId = "my_address", label = "A Valid Address in US"),
shiny::actionButton(inputId = "find_address", label = "Find Area Deprivation Index"),
textOutput("address_output")
),
wellPanel(
h4(tags$b("OME Knee Questions")),
p("These questions ask for your view about your knee. This information will help us keep track of how you feel about your knee and how well you are able to perform your usual activities. Answer every question by selecting the appropriate response, only one response for each question. If you are unsure about how to answer a question, please give the best answer you can."),
radioGroupButtons(inputId = "pat0_koos_p1", label = "How often do you experience knee pain?", choices = c("Never", "Monthly", "Weekly", "Daily", "Always"), size='sm', individual = TRUE),
p("What amount of knee pain have experienced the last week during the following activities?"),
radioGroupButtons(inputId = "pat0_koos_p2", label = "Twisting / pivoting on your knee", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p3", label = "Straightening knee fully", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p4", label = "Bending knee fully", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p5", label = "Walking on flat surface", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p6", label = "Going up or down stairs", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p7", label = "At night while in bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p8", label = "Sitting or lying", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koos_p9", label = "Standing upright", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_1", label = "In general, would you say your health is:", choices = c("Excellent", "Very good", "Good", "Fair", "Poor"), size='sm', individual = TRUE),
HTML('The following questions are about activities you might do <strong><span style="text-decoration:underline">during a typical day</span></strong>. Does your health now limit you in these activities? If so, how much?'),
radioGroupButtons(inputId = "pat0_vr12_2a", label = HTML("<strong>Moderate activities</strong>, such as moving a table, pushing a vacuum cleaner, bowling, or playing golf?"), choices = c("Yes, limited a lot", "Yes, limited a little", "No, not limited at all"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_2b", label = HTML("Climbing <strong>several</strong> flights of stairs?"), choices = c("Yes, limited a lot", "Yes, limited a little", "No, not limited at all"), size='sm', individual = TRUE),
HTML('<strong><span style="text-decoration:underline">During the past 4 weeks</span></strong>, have you had any of the following problems with your work or other regular daily activities <strong>as a result of your physical health</strong>?'),
radioGroupButtons(inputId = "pat0_vr12_3a", label = HTML("<strong>Accomplished less</strong> than you would like."), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_3b", label = HTML("Were limited in the <strong>kind</strong> of work or other activities."), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
HTML('<strong><span style="text-decoration:underline">During the past 4 weeks</span></strong>, have you had any of the following problems with your work or other regular daily activities as a result of any emotional problems (such as feeling depressed or anxious)?'),
radioGroupButtons(inputId = "pat0_vr12_4a", label = HTML("<strong>Accomplished less</strong> than you would like."), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_4b", label = HTML("Didn't do work or other activities as <strong>carefully</strong> as usual."), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_5", label = HTML('<strong><span style="text-decoration:underline">During the past 4 weeks</span></strong>, how much did <strong>pain</strong> interfere with your normal work (including both work outside the home and house work)?'), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
HTML('These questions are about how you feel and how things have been with you <strong><span style="text-decoration:underline">during the past 4 weeks</span></strong>. For each question, please give the one answer that comes closest to the way you have been feeling.<br><br>How much of the time <strong><span style="text-decoration:underline">during the past 4 weeks</span></strong>:'),
radioGroupButtons(inputId = "pat0_vr12_6a", label = HTML("Have you felt <strong>calm and peaceful</strong>?"), choices = c("No, none of the time", "Yes, a little of the time", "Yes, some of the time", "Yes, most of the time", "Yes, all of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_6b", label = HTML("Did you have <strong>a lot of energy</strong>?"), choices = c("All of the time", "Most of the time", "A good bit of the time", "Some of the time", "A little of the time", "None of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_6c", label = HTML('Have you felt <strong>downhearted and blue</strong>?'), choices = c("All of the time", "Most of the time", "A good bit of the time", "Some of the time", "A little of the time", "None of the time"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_7", label = HTML('<strong><span style="text-decoration:underline">During the past 4 weeks</span></strong>, how much of the time has your <strong>physical health or emotional problems</strong> interfered with your social activities (like visiting with friends, relatives, etc.)?'), choices = c("Much better", "Slightly better", "About the same", "Slightly worse", "Much worse"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_8", label = HTML('<strong><span style="text-decoration:underline">Compared to one year ago</span></strong>, how would you rate your <strong>physical health</strong> now?'), choices = c("Much better", "Slightly better", "About the same", "Slightly worse", "Much worse"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_vr12_9", label = HTML('What is your level of <strong>back pain</strong> at the moment?'), choices = c("None", "Very mild", "Moderate", "Fairly severe", "Very severe", "Worst imaginable"), size='sm', individual = TRUE),
HTML('The following questions concern your level of function in performing usual daily activities and higher level activities.  For each of the following activities, please indicate the degree of difficulty you have experienced in <strong><span style="text-decoration:underline">the last week</span></strong> due to your knee problem.'),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
radioGroupButtons(inputId = "pat0_koosps_1", label = "Rising from bed", choices = c("None", "Mild", "Moderate", "Severe", "Extreme"), size='sm', individual = TRUE),
),
wellPanel(
h4(tags$b("MRI")),
# selectInput("naveen_4level_mtp", "Cartilage status in the Medial Tibial Plateau (mark all the apply)", selectize = F, choices = c("Negligible", "Mild", "Moderate", "Severe")),
pickerInput("naveen_4level_mtp",
label = "Cartilage status in the Medial Tibial Plateau (mark all the apply)",
choices = list(`Normal or Grade 1 changes (cartilage signal abnormality without a defect)` = c("Normal or Grade 1 changes",""),
`Grade 2 changes (low grade partial thickness loss (less than 50% of the cartilage thickness))` = c("Less than 1 cm in size", "1 cm or larger in size"),
`Grade 3 changes (high grade partial thickness loss (50% or more of the cartilage thickness))` = c("Less 2 mm in size (fissure)", "2 mm to less than 1 cm in size (small)", "1 cm to less 2 cm in size (moderate)", "2 cm or larger in size (large)"),
`Grade 4 changes (full thickness cartilage loss)` = c("Less than 1 cm in size (small)", "1 cm to less than 2 cm in size (moderate)", "2 cm or larger in size (large)")),
multiple = TRUE, options = list(style = "btn-info")),
selectInput("tearside", "Tearside", selectize = F, choices = c("Lateral", "Medial", "Both")))
),
column(8,
actionButton("goButton", "Run Calculator"),
br(),
hr(),
tags$head(
tags$style(type="text/css", "tfoot {display:none;}")
),
div(id = "result_panel",
DT::dataTableOutput('result'),
plotOutput("plot", height = "200px")),
br(),
# wellPanel(h3('Click Below for Calculator and Author Contact Information'),p("[1] Wells BJ, Roth R, Nowacki AS, Arrigain S, Yu C, Rosenkrans WA, Jr, Kattan MW. ",
#                                                                             a('Prediction of morbidity and mortality in patients with type 2 diabetes.',
#                                                                               href='https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3685323/'),
#                                                                             " PeerJ. 2013;1:e87.")),
wellPanel(h3('Disclaimer'),
p("No Medical Advice. ALTHOUGH SOME CONTENT MAY BE PROVIDED BY INDIVIDUALS IN THE MEDICAL PROFESSION, YOU ACKNOWLEDGE THAT PROVISION OF SUCH CONTENT DOES NOT CREATE A MEDICAL PROFESSIONAL-PATIENT RELATIONSHIP AND DOES NOT CONSTITUTE AN OPINION, MEDICAL ADVICE, PROFESSIONAL DIAGNOSIS, SERVICE OR TREATMENT OF ANY CONDITION. Access to general information is provided for educational purposes only, through this site and links to other sites. Content is not recommended or endorsed by any doctor or healthcare provider. The information and Content provided are not substitutes for medical or professional care, and you should not use the information in place of a visit, call, consultation or the advice of your physician or other healthcare provider. You are liable or responsible for any advice, course of treatment, diagnosis or any other information, services or product obtained through this site.")),
p(a("Homepage",
href = "../", style = "font-family: 'Lato','Helvetica Neue',Helvetica,Arial,sans-serif;
font-size: 15px;color: #2c3e50;font-weight: bold;text-align: center;text-decoration: underline;"),
" | ",
a("Website Error Messages",
href = "javascript:myFunction()",
style = "font-family: 'Lato','Helvetica Neue',Helvetica,Arial,sans-serif;
font-size: 15px;color: #2c3e50;font-weight: bold;text-align: center;text-decoration: underline;"),
" | ",
a("Add to phone (iOS Safari)", href="https://support.apple.com/guide/iphone/bookmark-favorite-webpages-iph42ab2f3a7/ios#iph4f9a47bbc", target="_blank", style = "font-family: 'Lato','Helvetica Neue',Helvetica,Arial,sans-serif;
font-size: 15px;color: #2c3e50;font-weight: bold;text-align: center;text-decoration: underline;"),
" | ",
a("Add to phone (Android)", href="https://www.cnet.com/tech/mobile/adding-one-touch-bookmarks-to-your-androids-home-screen/", target="_blank", style = "font-family: 'Lato','Helvetica Neue',Helvetica,Arial,sans-serif;
font-size: 15px;color: #2c3e50;font-weight: bold;text-align: center;text-decoration: underline;"),
style = "text-align: center;"),
img(src='../logo-ccf.png', style = "max-width:30%; max-height:100%;")))
runApp()
runApp()
adult_koops = read_csv("Map.Adult_KOOPS.csv")
str(adult_koops)
runApp()
?radioGroupButtons
gh1=2
c(100,85,60,35,0)[c(1,2,3,4,5)==gh1]
runApp()
runApp()
?reactiveVal
r = reactiveVal()
r(10)
r()
runApp()
gh1
runApp()
runApp()
runApp()
runApp()
runApp()
