info_en = HTML("
<h2>Reference</h2>
<p>Ankerst, Donna P., Johanna Straubinger, Katharina Selig, Lourdes Guerrios, Amanda De Hoedt, Javier Hernandez, Michael A. Liss, et al. âA Contemporary Prostate Biopsy Risk Calculator Based on Multiple Heterogeneous Cohorts.â European Urology 74, no. 2 (2018): 197â203. doi:<a href=https://doi.org/10.1016/j.eururo.2018.05.003>10.1016/j.eururo.2018.05.003.</a></p>
<br>
<h2>Information about calculator input</h2>
<h4>Prostate Specific Antigen Level (PSA)</h4>
<p>This is the result, in nanograms per mililiter, of the PSA blood test.
PSA has to be between 2 and 50 [ng/ml].</p>
<br>
<h4>Family History of Prostate Cancer</h4>
<p>Choose Yes if a father, brother, or son had prostate cancer.</p>
<br>
<h4>Digital Rectal Examination (DRE)</h4>
<p>Digital Rectal Examination is a test performed by a health care professional in which a gloved finger is placed in the rectum to feel the surface of the prostate.
It is normal if the prostate is smooth and soft.
It is abnormal if an area of firmness or a nodule is noted.</p>
<br>
<h4>Prior Prostate Biopsy</h4>
<p>Past Negative Biopsy: One or more prior biopsies, all negative, no prior diagnosis of prostate cancer.</p>
<br>
<h3>Note: The Calculator is only applicable for persons without a previous diagnosis of prostate cancer.</h3>
<p>This risk calculator is for patients who have been deemed to be suitable candidates for biopsy by their urologist.
This means that, for instance, they have been evaluated to see if their PSA level is due to a disease other than cancer,
such having an enlarged prostate, a common problem in older men.
If you have not been evaluated by your urologist and told that you are a good candidate for biopsy,
the risk calculator will likely ovestimate your risk of having prostate cancer</p>
</span><p>
")
shiny::runApp()
runApp()
runApp()
load("J:/yuc1/mike/2011/snehalPatelOralCancerNomogram/s_plus/snehalPatelOralCancerPostopNomogram_20120518.RData")
nomogram(dsd.nom,failtime = 60, xfrac = 0.6,
lp = FALSE, lp.at = seq(-1.9,2.5,by=0.1),
fun.at= c(0.01,0.05,seq(0.1,0.9,by =0.1),0.97),
funlabel = "Predicted 5-year \ndisease specific probability")
library(rms)
nomogram(dsd.nom,failtime = 60, xfrac = 0.6,
lp = FALSE, lp.at = seq(-1.9,2.5,by=0.1),
fun.at= c(0.01,0.05,seq(0.1,0.9,by =0.1),0.97),
funlabel = "Predicted 5-year \ndisease specific probability")
dd <- datadist(oral.imp)
options(datadist = "dd")
load("J:/koul/Projects/2013/FrankSurgicalComplicationNomogram/Rcode/9.30.2013.SurgicalComplication.Post.RData")
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
post.iic.lrm
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
dd <- datadist(post.imp)
options(datadist = "dd")
#Nomogram
post.iic.lrm.nom=post.iic.lrm.cp2
post.iic.lrm.nom=Newlabels(post.iic.lrm.nom,c(WUHNCI.Score = "WUHNCI Score", WBC = "White Blood Count (x 10^3/µL)",
HCT = "Hematocrit (%)", Anes.Minutes = "Time Under Anesthesia (minutes)"
))
library(rms)
post.iic.lrm.nom=Newlabels(post.iic.lrm.nom,c(WUHNCI.Score = "WUHNCI Score", WBC = "White Blood Count (x 10^3/µL)",
HCT = "Hematocrit (%)", Anes.Minutes = "Time Under Anesthesia (minutes)"
))
str(post.iic.lrm.cp2)
post.iic.lrm.cp2 <- post.iic.lrm.stdci$final.model
#Nomogram
post.iic.lrm.nom=post.iic.lrm.cp2
post.iic.lrm.nom=Newlabels(post.iic.lrm.nom,c(WUHNCI.Score = "WUHNCI Score", WBC = "White Blood Count (x 10^3/µL)",
HCT = "Hematocrit (%)", Anes.Minutes = "Time Under Anesthesia (minutes)"
))
#Nomogram
post.iic.lrm.nom=post.iic.lrm.cp2
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
plot(nomogram(post.aic.lrm.nom,lp=F, Anes.Minutes = seq(55, 950, by = 100),
fun = plogis, funlabel = "Probability of a complication \nrequiring any intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05, 0.01, 0.95, 0.99)),xfrac = .5)
library(rms)
plot(nomogram(post.aic.lrm.nom,lp=F, Anes.Minutes = seq(55, 950, by = 100),
fun = plogis, funlabel = "Probability of a complication \nrequiring any intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05, 0.01, 0.95, 0.99)),xfrac = .5)
plot(nomogram(post.aic.lrm.nom,lp=F, Anes.Minutes = seq(55, 950, by = 100),
fun = plogis, funlabel = "Probability of a complication \nrequiring any intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05, 0.01, 0.95, 0.99)),xfrac = .5)
post.aic.lrm.nom
sas(post.aic.lrm.nom)
library(ClevClinicQHS)
sas(post.aic.lrm.nom)
sas(post.aic.lrm.cp2)
load("J:/koul/Projects/2013/FrankSurgicalComplicationNomogram/Rcode/9.30.2013.SurgicalComplication.Post.RData")
plot(nomogram(post.aic.lrm.nom,lp=F, Anes.Minutes = seq(55, 950, by = 100),
fun = plogis, funlabel = "Probability of a complication \nrequiring any intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05, 0.01, 0.95, 0.99)),xfrac = .5)
load("J:/koul/Projects/2013/FrankSurgicalComplicationNomogram/Rcode/9.30.2013.SurgicalComplication.Post.RData")
plot(nomogram(post.aic.lrm.nom,lp=F, Anes.Minutes = seq(55, 950, by = 100),
fun = plogis, funlabel = "Probability of a complication \nrequiring any intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05, 0.01, 0.95, 0.99)),xfrac = .5)
sas(post.aic.lrm.cp2)
post.iic.lrm.stdci$final.model
post.iic.lrm.cp2 <- post.iic.lrm.stdci$final.model
str(post.aic.lrm.cp2)
post.iic.lrm.cp2 <- lrm(formula = Invasive.Intervention.Complication == "Yes" ~ WUHNCI.Score +
WBC + HCT +
Anes.Minutes
, data = post.imp, x = T, y = T)
sas(post.iic.lrm.cp2)
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
#Nomogram
post.iic.lrm.nom=post.iic.lrm.cp2
post.iic.lrm.nom=Newlabels(post.iic.lrm.nom,c(WUHNCI.Score = "WUHNCI Score", WBC = "White Blood Count (x 10^3/µL)",
HCT = "Hematocrit (%)", Anes.Minutes = "Time Under Anesthesia (minutes)"
))
opar <- par("mar")
par(mar = c(1,4,1,1))
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
dd = datadist(post.imp)
options(datadist = 'dd')
plot(nomogram(post.iic.lrm.nom,lp=F,
fun = plogis, funlabel = "Probability of a complication \nrequiring invasive intervention",
fun.at = c(seq(0.1,0.9,by =0.1),0.05)),xfrac = .5)
post.imp$pred.post1 = predict(post.iic.lrm.cp2, type = 'pred')
post.imp$pred.post1 = predict(post.iic.lrm.cp2, type = 'fitted')
range(post.imp$pred.post1)
post.aic.lrm.stdci$final.model
post.aic.lrm.cp2 <- lrm(formula = Any.Intervention..Complication == "Yes" ~ Age + BMI + WUHNCI.Score +
WBC + rcs(NA., 3) +
Anes.Minutes + rcs(EBL..mL., 3),
data = post.imp, x = T, y = T)
sas(post.aic.lrm.cp2)
post.imp$pred.post2 = predict(post.aic.lrm.cp2, type = 'fitted')
library(dplyr)
post.imp %>% select(Age, BMI, WUHNCI.Score, WBC, HCT, NA., Anes.Minutes, EBL..mL., pred.post1, pred.post2) %>% head()
write.csv(post.imp %>% select(Age, BMI, WUHNCI.Score, WBC, HCT, NA., Anes.Minutes, EBL..mL., pred.post1, pred.post2) %>% head(20), file = "H:/post.csv")
load("J:/koul/Projects/2013/FrankSurgicalComplicationNomogram/Rcode/9.27.2013.SurgicalComplication.Pre.RData")
dd = datadist(pre.imp)
options(datadist = 'dd')
pre.iic.lrm.stdci$final.model
pre.iic.lrm.cp2 = lrm(formula = Invasive.Intervention.Complication == "Yes" ~ BMI + WUHNCI.Score +
WBC + HCT + ND.Laterality +
Planned.Tracheostomy, data = pre.imp, x = T, y = T)
pre.iic.lrm.cp2 = lrm(formula = Invasive.Intervention.Complication == "Yes" ~ BMI + WUHNCI.Score +
WBC + HCT + ND.Laterality + Planned.Tracheostomy, data = pre.imp, x = T, y = T)
names(pre.im)
names(pre.imp)
pre.iic.lrm <- lrm(formula = Invasive.Intervention.Complication == "Yes" ~ Age + BMI + WUHNCI.Score +
KPS + WBC + HCT + PLT + NA. + CREAT + ALK + ASA + Clinical.T.Stage +
Planned.Bone.Resection + ND.Laterality + Planned.Reconstruction +
Planned.Tracheostomy, data = pre.imp, x = T, y = T)
dd = datadist(pre.imp)
options(datadist = 'dd')
pre.iic.lrm <- lrm(formula = Invasive.Intervention.Complication == "Yes" ~ Age + BMI + WUHNCI.Score +
KPS + WBC + HCT + PLT + NA. + CREAT + ALK + ASA + Clinical.T.Stage +
Planned.Bone.Resection + ND.Laterality + Planned.Reconstruction +
Planned.Tracheostomy, data = pre.imp, x = T, y = T)
pre.iic.lrm <- glm(formula = Invasive.Intervention.Complication == "Yes" ~ Age + BMI + WUHNCI.Score +
KPS + WBC + HCT + PLT + NA. + CREAT + ALK + ASA + Clinical.T.Stage +
Planned.Bone.Resection + ND.Laterality + Planned.Reconstruction +
Planned.Tracheostomy, data = pre.imp, x = T, y = T)
sas(pre.iic.lrm)
pre.iic.lrm <- lrm(formula = Invasive.Intervention.Complication == "Yes" ~ Age + BMI + WUHNCI.Score +
KPS + WBC + HCT + PLT + NA. + CREAT + ALK + ASA + Clinical.T.Stage +
Planned.Bone.Resection + ND.Laterality + Planned.Reconstruction +
Planned.Tracheostomy, data = pre.imp)
pre.mic.lrm <- lrm(formula = Minimal.Intervention.Complication == "Yes" ~ Age + WUHNCI.Severe.Comorbidity +
KPS + WBC + HGB + NA. + CREAT + ALB + rcs(ALK, 3) +
ASA + Clinical.T.Stage + Planned.Bone.Resection + ND.Laterality + Planned.Reconstruction +
Planned.Tracheostomy, data = pre.imp, x = T, y = T)
pre.iic.lrm.cp2 = lrm(formula = Invasive.Intervention.Complication == "Yes" ~ BMI + WUHNCI.Score +
WBC + HCT + ND.Laterality + Planned.Tracheostomy, data = pre.imp, x = T, y = T)
str(pre.imp$ND.Laterality)
str(pre.imp$Planned.Tracheostomy)
pre.iic.lrm.cp2 = lrm(formula = Invasive.Intervention.Complication == "Yes" ~ BMI + WUHNCI.Score +
WBC + HCT + ND.Laterality + as.factor(Planned.Tracheostomy), data = pre.imp, x = T, y = T)
pre.iic.lrm.cp2 = lrm(formula = as.factor(Invasive.Intervention.Complication == "Yes") ~ BMI + WUHNCI.Score +
WBC + HCT + ND.Laterality + as.factor(Planned.Tracheostomy), data = pre.imp, x = T, y = T)
install.packages("rms")
install.packages("rms")
install.packages("rms")
install.packages("rms")
install.packages("rms")
install.packages("rms")
install.packages("rms")
